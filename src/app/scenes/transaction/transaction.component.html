<div class="container">
  <div class="card mt-4">
    <div class="card-body">
      <div class="card-title"><img src="../../../assets/icons/tx.svg"> Transaction</div>
      <ng-container *ngIf="tx; else transactionNotFound">
        <dl>
          <dt>Transaction hash</dt>
          <dd>{{tx.tx_hash}}</dd>
          <dt>Status</dt>
          <dd>
            <ng-container *ngIf="tx.block_number ; else pendingTx;">
              <div class="badge {{tx.status ? 'c--success' : 'c--danger'}}">
                {{tx.status ? 'Success' : 'Failed'}}
              </div>
            </ng-container>
            <ng-template #pendingTx>
              <div class="badge c--info">
                Pending
              </div>
            </ng-template>
          </dd>
          <ng-container *ngIf="tx.block_number">
            <dt>Block number</dt>
            <dd><a routerLink="/block/{{tx.block_number}}">{{tx.block_number}}</a>
              <div class="badge c--info m-l--20"
                   *ngIf="(recentBlockNumber$ | async) as recentBlockNumber">{{recentBlockNumber - tx.block_number}}
                Block
                Confirmations
              </div>
            </dd>
          </ng-container>
          <ng-container *ngIf="tx.created_at">
            <dt>Processed at</dt>
            <dd>{{tx.created_at | date: 'yyyy/MM/dd HH:mm:ss'}} ({{tx.created_at | timeAgo }})</dd>
          </ng-container>
          <ng-container *ngIf="tx.contract_address">
            <dt>Contract address</dt>
            <dd><a routerLink="/addr/{{tx.contract_address}}">{{tx.contract_address}}</a></dd>
          </ng-container>
          <dt>From</dt>
          <dd><a routerLink="/addr/{{tx.from}}">{{tx.from}}</a></dd>
          <ng-container *ngIf="tx.to">
            <dt>To</dt>
            <dd><a routerLink="/addr/{{tx.to}}">{{tx.to}}</a></dd>
          </ng-container>
          <dt>Value</dt>
          <dd>{{tx.value | weiToGO | bigNumber}}</dd>
          <dt>Gas price</dt>
          <dd>{{tx.gas_price| toGwei}}</dd>
          <dt>Gas limit</dt>
          <dd>{{tx.gas_limit | bigNumber}}</dd>
          <ng-container *ngIf="tx.gas_fee">
            <dt>Gas used</dt>
            <dd>{{tx.gas_fee / tx.gas_price | bigNumber}}</dd>
          </ng-container>
          <ng-container *ngIf="tx.gas_fee">
            <dt>Gas fee</dt>
            <dd>{{tx.gas_fee | weiToGO | bigNumber}}</dd>
          </ng-container>
          <dt>Nonce</dt>
          <dd>{{tx.nonce}}</dd>
          <dt></dt>
          <dd></dd>
        </dl>
        <!--<div class="uk-padding">
          <div class="list-holder__footer">
            <div>
              <p>Input data
                <span class="pull-r btn-group">
            <button class="btn btn&#45;&#45;sm" [ngClass]="{'btn&#45;&#45;active': !showUtf8}" (click)="showUtf8 = false">HEX</button>
            <button class="btn btn&#45;&#45;sm" [ngClass]="{'btn&#45;&#45;active': showUtf8}" (click)="showUtf8 = true">UTF-8</button>
          </span>
              </p>
              <b>
                <pre class="code">{{tx.input_data | hex2str: showUtf8}}</pre>
              </b>
            </div>
            <div>
              <p>Receipt Logs
              </p>
              <b>
                <pre class="code">{{tx.logs}}</pre>
              </b>
            </div>
          </div>
        </div>-->
      </ng-container>
      <ng-template #transactionNotFound>
        <app-info text="Transaction not found."></app-info>
      </ng-template>
    </div>
  </div>
</div>
